var scriptname=document.currentScript.getAttribute("data-requiremodule");if("core/first"===scriptname){require.undef("format_tiles/edit_course")}define("format_tiles/edit_course",["jquery","core/templates","core/ajax","format_tiles/browser_storage","core/notification","core/str","format_tiles/tile_fitter"],function(t,e,o,s,i,n,a){"use strict";var r=t("body"),l=t("body, html"),c,d,E=[],O,I,T=!1,C=!1,g=60,u=!1,f=0,_,m=!1,h,L=0,p={PAGE:"#page",TILE:".tile",TILEID:"#tile-",MOVEABLE_SECTION:".moveablesection",FILTER_BUTTON:".filterbutton",TILE_LOADING_ICON:".tile-loading-icon",TILE_LOADING_ICON_ID:"#loading-icon-",TILE_COLLAPSED:".tile-collapsed",TILE_CLICKABLE:".tile-clickable",TILE_SELECTED:".tile-clickable.selected",TILE_NONSELECTED:"tile-clickable:not(.selected)",TILES:"ul.tiles",ACTIVITY:".activity",SPACER:".spacer",SECTION_MOVEABLE:".moveablesection",SECTION_ID:"#section-",SECTION_TITLE:".sectiontitle",SECTION_MAIN:".section.main",SECTION_BUTTONS:"#sectionbuttons",CLOSE_SEC_BTN:".closesectionbtn",HIDE_SEC0_BTN:"#buttonhidesec0",SECTION_ZERO:"#section-0",SECTION_ZERO_CONTENT:"#section-0 > .content",MOODLE_VIDEO:".mediaplugin.mediaplugin_videojs",LAUNCH_STANDARD:"[data-action=\"launch-tiles-standard\"]",TOOLTIP:"[data-toggle=tooltip]",HEADER_BAR:["#main-menu"],MENU_BAR:".menubar",DROPDOWN_MENU:".dropdown-menu",HIDDEN_TOGGLE:"div.hiddentoggle",DRAGDROP:".dragdropwrap",MULTI_SECTION_TILE_AREA:"#multi_section_tiles",SUBTILEDRAGDROP:".subtilecontrols > .editing_move"},D={SELECTED:"selected",HEADER_OVERLAY:"header-overlay",OPEN:"open",CLOSED:"closed",LAUNCH_CM_MODAL:"launch-tiles-cm-modal",STATE_VISIBLE:"state-visible"},A={CLICK:"click",KEYDOWN:"keydown",SCROLL:"scroll",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEMOVE:"mousemove",MOUSEOVER:"mouseover",TOUCHDOWN:"touchstart",TOUCHUP:"touchend",TOUCHOVER:"touchover",TOUCHMOVE:"touchmove"},S={DISPLAY:"display",Z_INDEX:"z-index",HEIGHT:"height",BG_COLOUR:"background-color"},N={ESCAPE:27,TAB:9,RETURN:13},b=function(e){if(I===void 0){return!1}else{var o=t(p.HEADER_BAR.find(function(e){return 0<t(e).length}));if(!0===e){o.css(S.Z_INDEX,f+4);t("#logo-header").css("z-index",f+4).css("background","#fff");I.fadeIn({duration:300,step:function step(){o.css("border-left","1rem solid rgba(193, 193, 193,\n                            ".concat(parseFloat(5*O.css("opacity")),")"));o.css("border-right","1rem solid rgba(193, 193, 193,\n                            ".concat(parseFloat(5*O.css("opacity")),")"))},complete:function complete(){o.css("border-left","1rem solid rgba(193, 193, 193, 1)");o.css("border-right","1rem solid rgba(193, 193, 193, 1)")}})}else{I.fadeOut({duration:300,step:function step(){o.css("border-left","1rem solid rgba(193, 193, 193,\n                            ".concat(parseFloat(5*O.css("opacity")),")"));o.css("border-right","1rem solid rgba(193, 193, 193,\n                            ".concat(parseFloat(5*O.css("opacity")),")"))},complete:function complete(){o.css("border-left","1rem solid rgba(193, 193, 193, 0)");o.css("border-right","1rem solid rgba(193, 193, 193, 0)");o.css(S.Z_INDEX,f);t("#logo-header").css("z-index",f).css("background","#fff")}})}return!0}},U=function(e){var o=t(p.SECTION_ID+e);o.find("iframe").each(function(e,o){o=t(o);if(o.attr("src")){o.attr("data-src",o.attr("src"));o.attr("src","")}});var s=o.find(p.MOODLE_VIDEO);if(0<s.length){o.html("")}},R=function(e){t(p.MOVEABLE_SECTION).each(function(e,o){o=t(o);if(o.is(":visible")){U(o.attr("data-section"));o.slideUp().removeClass(D.STATE_VISIBLE)}});t(p.TILE).removeClass(D.SELECTED).css(S.Z_INDEX,"").css(S.BG_COLOUR,"");t(".section "+D.SELECTED).removeClass(D.SELECTED).css(S.Z_INDEX,"");O.fadeOut(300);b(!1);if(e!==void 0&&0!==e){t(p.TILEID+e).focus()}t(p.TILE_LOADING_ICON).fadeOut(300,function(){t(p.TILE_LOADING_ICON).html("")});C=!1;L=0},v=function(o,i){if(i){o.html(i);t(p.TILE_LOADING_ICON).fadeOut(300,function(){t(p.TILE_LOADING_ICON).html("")});if(o.attr("id")!==p.SECTION_ZERO){var n=o.find(p.ACTIVITY).not(p.SPACER);o.on(A.KEYDOWN,function(i){if(i.keyCode===N.ESCAPE){s.setLastVisitedSection(0);R(0);t(p.TILEID+o.attr("data-section")).focus()}});n.on(A.KEYDOWN,function(o){if(o.keyCode===N.RETURN){var e=t(o.currentTarget).find("a");if(e.hasClass(D.LAUNCH_CM_MODAL)){e.click()}else if(e.attr("href")!==void 0){window.location=e.attr("href")}}});if(!c){n.last().on(A.KEYDOWN,function(s){if(s.keyCode===N.TAB&&!s.shiftKey&&t(s.relatedTarget).closest(p.SECTION_MAIN).attr("id")!==o.attr("id")){setTimeout(function(){o.find(p.SECTION_TITLE).focus();l.animate({scrollTop:o.offset().top-g},"slow");o.find("#sectionbuttons").css("top","")},200)}});o.find(p.SECTION_TITLE).on(A.KEYDOWN,function(s){if(s.keyCode===N.TAB&&s.shiftKey&&t(s.relatedTarget).closest(p.SECTION_MAIN).attr("id")!==o.attr("id")){setTimeout(function(){n.last().focus()},200)}})}}if(!c){setTimeout(function(){try{var e=o.find(".togglecompletion, .completioncheckbox, .tag-info");if(0<e.length){e.tooltip()}}catch(e){require(["core/log"],function(t){t.debug(e)})}},500)}if(0!==o.find(p.MOODLE_VIDEO).length){require(["media_videojs/loader"],function(e){e.setUp()})}return!0}return!1},y=function(e){var t,o;if(e.type.includes("touch")){var s=e.originalEvent.touches[0]||e.originalEvent.changedTouches[0];t=s.clientX;o=s.clientY}else if(e.type.includes("mouse")){t=e.clientX;o=e.clientY}return{x:t,y:o}},V=function(o){var e=y(o),s=document.elementFromPoint(e.x,e.y);t(s).trigger(A.TOUCHOVER,o)},H=function(){t("html").on(A.TOUCHMOVE,p.ACTIVITY,V);var o=t("#page-content");o.on(A.MOUSEDOWN+" "+A.TOUCHDOWN,p.SUBTILEDRAGDROP,function(s){s.preventDefault();s.stopPropagation();if(s.button&&!s.type===A.TOUCHUP){return}var e=s.currentTarget,i=t(e).closest(p.ACTIVITY),n=i.parent()[0].getBoundingClientRect(),a=i[0].getBoundingClientRect(),r=y(s),l=i.clone(!0).css("opacity","0.5").css("position","absolute").css("left",r.x-n.left-8+"px").css("top",r.y-n.top-8+"px").css("pointer-events","none").css("width",a.width).css("height",a.height).attr("id","dragholo");l.insertAfter(i);var c=function(t){var e=y(t),o=l.parent()[0].getBoundingClientRect();l.css("left",e.x-o.left-8+"px").css("top",e.y-o.top-8+"px")},d=function(o){var e=t(o.currentTarget),s=e.index(),n=i.index();if(s===n){}else if(s<n){e.before(i)}else{e.after(i)}},E=function(s){if(s.button&&!s.type===A.TOUCHUP){return}t("html").off(A.MOUSEUP+" "+A.TOUCHUP,E);t("html").off(A.MOUSEMOVE+" "+A.TOUCHMOVE,c);t("#dragholo").remove();o.off(A.MOUSEOVER+" "+A.TOUCHOVER,p.ACTIVITY,d);var e=O.is(":visible");if(e){O.hide()}var n=y(s),a=t(document.elementFromPoint(n.x,n.y));if(e){O.show()}var r=".tile.tile-clickable";if(e){r+=", #section-0"}var l=a.closest(r),I=i.attr("data-cmid"),T=new XMLHttpRequest,C=M.cfg.wwwroot+"/course/rest.php",g="?sesskey="+M.cfg.sesskey+"&courseId="+_+"&class=resource&field=move&id="+I,u;if(0<l.length){var f=t(l[0]);u=t(p.MULTI_SECTION_TILE_AREA).children(".tile").index(f)+1;g+="&sectionId="+u;g+="&beforeId=0";var m=t("#section-"+u).find("ul.section");m.append(i);T.onreadystatechange=function(){if(4==this.readyState&&200==this.status){window.location.reload(!1)}}}else{var h=i.closest(".section.main");if(0<!h.length){return}u=h.attr("data-section");var L=0,D=i.next();if(0<D.length){L=D.attr("data-cmid")}g+="&sectionId="+u;g+="&beforeId="+L}T.open("GET",C+g);T.send()};o.on(A.MOUSEOVER+" "+A.TOUCHOVER,p.ACTIVITY,d);t("html").on(A.MOUSEUP+" "+A.TOUCHUP,E);t("html").on(A.MOUSEMOVE+" "+A.TOUCHMOVE,c)})},P=[".action-menu"],k=function(e){var o=t("#section-"+e);P.forEach(function(e){try{var s=o.find(e),i=s[0].getBoundingClientRect().x;s.each(function(e,t){i=Math.min(t.getBoundingClientRect().x,i)});s.each(function(e,o){t(o).css("margin-right",0);t(o).css("margin-right",o.getBoundingClientRect().x-i)})}catch(t){}return!0})},B=function(e,o,s){var i=function(){var i=t("#tile-"+o).offset().top-g;if(i===t(window).scrollTop){i+=1}e.find(p.SECTION_TITLE).focus();r.on("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",function(){r.stop()});if(s){l.animate({scrollTop:i},"slow",function(){l.off("scroll mousedown wheel DOMMouseScroll mousewheel keyup touchmove",function(){l.stop()})})}C=!0;L=o;e.find(p.ACTIVITY).first().focus();var n=e.find("iframe");if(0<n.length){n.each(function(e,o){o=t(o);if(""===o.attr("src")&&o.attr("data-src")!==void 0){o.attr("src",o.attr("data-src"))}});if(h){require(["format_tiles/completion"],function(e){setTimeout(function(){e.updateTileInformation()},1e3)})}}},n=function(){var o=e.find(p.SECTION_BUTTONS);t(window).on(A.SCROLL,function(){if(!T&&C){T=!0;o.fadeOut(300);setTimeout(function(){var s=t(window).scrollTop(),i=s-e.offset().top+50;if(0<i&&i<e.outerHeight()-100){i=s-e.offset().top+50;o.css("top",i);if("none"===O.css(S.DISPLAY)){O.fadeIn(300);b(!0)}}else if(0>i){o.css("top",0)}if(s>e.offset().top+e.outerHeight()-50){if("block"===O.css(S.DISPLAY)){O.fadeOut(300);b(!1)}o.css("top",0)}else if(e.offset().top>s+t(window).outerHeight()){if("block"===O.css(S.DISPLAY)){O.fadeOut(300);b(!1)}o.css("top",0)}else if("none"===O.css(S.DISPLAY)){O.fadeIn(300);b(!0)}o.fadeIn(300,function(){T=!1})},500)}});if(!T&&!C&&O.is(":visible")){O.fadeOut(300)}};e.addClass(D.STATE_VISIBLE);e.slideDown(350,"linear",function(){i();n()});L=o},w=function(e,o){var s=new t.Deferred,i=t(".moveablesection:visible"),n=0;if(0<i.length){n=i.attr("data-section");R()}var r=function(e){a.runReOrg(e).done(function(e){if(0!==n){B(i,n)}s.resolve(e)}).fail(function(e){if(0!==n){B(i,n)}s.reject(e)})};if(o){setTimeout(function(){a.resizeTilesDivWidth(_).done(function(){r(!1)},e)})}else{r(e)}return s.promise()},x=function(e,t,o){if(t){i.confirm(E.sectionerrortitle,E.sectionerrorstring,E.refresh,E.cancel,function(){window.location.reload()},null);o.html("")}else{v(o,"<p>"+E.noconnectionerror+"</p>");setTimeout(function(){B(o,e)},500)}require(["core/log"],function(e){e.debug(t)});throw new Error("Not successful retrieving tile content by AJAX for section "+e)},G=function(e,t){return o.call([{methodname:"format_tiles_get_single_section_page_html",args:{courseid:e,sectionid:t,setjsusedsession:!0}}])[0]},Y=function(e,o,s,i){var n=0>i?0:255,t=0>i?-1*i:i,a=Math.round((n-e)*t)+e,r=Math.round((n-o)*t)+o,l=Math.round((n-s)*t)+s;return"rgb("+a+","+r+","+l+")"},K=function(e){O.fadeIn(300);f=parseInt(O.css(S.Z_INDEX));var o=t(p.TILEID+e);o.css(S.Z_INDEX,f+2);b(!0);t(p.SECTION_ID+e).css(S.Z_INDEX,f+1);if(o.css(S.BG_COLOUR)&&"rgba"===o.css(S.BG_COLOUR).substr(0,4)){var s=o.css(S.BG_COLOUR).replace("rgba(","").replace(")","").replace(" ","").split(",");o.css(S.BG_COLOUR,Y(parseInt(s[0]),parseInt(s[1]),parseInt(s[2]),.95))}},W=function(o){var e=t(o.currentTarget);if("window-overlay"===e.attr("id")||e.attr("id")===D.HEADER_OVERLAY){e.hide();var s=t(document.elementFromPoint(o.clientX,o.clientY));e.show();if("window-overlay"===e.attr("id")){if(s.hasClass("filterbutton")||s.hasClass("list-group-item")){s.click()}else{var i=s.closest(p.TILE);if(i){i.click()}}}else{R(0);s.click()}}},Z=function(){var e=t(p.HIDE_SEC0_BTN),o=t(p.SECTION_ZERO);if(s.storageEnabledLocal()){if(!0===s.getSecZeroCollapseStatus()){o.slideUp(0);e.addClass(D.CLOSED).removeClass(D.OPEN)}else{o.slideDown(300);e.addClass(D.OPEN).removeClass(D.CLOSED)}}else{e.addClass(D.OPEN).removeClass(D.CLOSED);o.slideDown(300)}},X=function(e,n,a,r){var l=4<arguments.length&&arguments[4]!==void 0?arguments[4]:!0;K(a);t(p.TILE).removeClass(D.SELECTED);n.addClass(D.SELECTED);L=a;t(p.MOVEABLE_SECTION).each(function(e,o){o=t(o);if(o.is(":visible")){U(o.attr("data-section"));o.slideUp(200).removeClass(D.STATE_VISIBLE)}});o.call([{methodname:"format_tiles_log_tile_click",args:{courseid:e,sectionid:a}}])[0].fail(i.exception);var c=t(p.SECTION_ID+a);if(0<c.find(p.ACTIVITY).length){B(c,a,l);if(s.getStoredContentAge(e,a)>r||!s.getStoredContentAge(e,a)){G(e,a).done(function(o){if(s.storageEnabledSession()){s.storeCourseContent(e,a,t(o.html).html())}})}}else{c.html(d);if(s.storageEnabledLocal()){var E=s.getStoredContentAge(e,a);if(E){v(c,s.getCourseContent(e,a));B(c,a,l)}if(!E||E>r){var O=t(p.TILE_LOADING_ICON_ID+a);if(O!==void 0){O.html(d).fadeIn(200)}else{O=t("<div>").html(d);c.html(O)}G(e,a).done(function(o){var i=t(o.html).html();v(c,i);B(c,a,l);if(s.storageEnabledSession()){s.storeCourseContent(e,a,i)}}).fail(function(e){x(a,e,c);R(a)})}}else{G(e,a).done(function(e){v(c,t(e.html).html());B(c,a,l)}).fail(function(e){x(a,e,c);R(a)})}}s.setLastVisitedSection(a);k(a)};return{init:function init(l,c,T,C,b,U,P,B,x,Y,K,F,j,z){_=l;u="1"===Y;B=1===B;x="1"===x;h="1"===z;s.init(_,T,!1,b,P,x,K);s.cleanUpStorage();t(document).ready(function(){var l=t("#page-content");if(0===l.length){l=t("#region-main")}k(0);if(0!==b){L=b}else{if(u&&s.storageEnabledLocal){L=s.getLastVisitedSection()}}if(0!==L){a.init(_,L,F,!1)}else{t(p.TILEID+"1").focus();a.init(_,null,F,!1)}var T=t(window).outerWidth();if(c){O=t("<div></div>").addClass("modal-backdrop fade in").hide().attr("id","window-overlay").appendTo(r);O.click(function(t){R(0);W(t)});l.on(A.CLICK,p.MENU_BAR,function(o){o.preventDefault();o.stopPropagation();var e=o.target,s="true"===e.getAttribute("aria-expanded"),i=e.getAttribute("aria-controls"),n=t("#"+i);if(s){e.setAttribute("aria-expanded","false");n.hide()}else{e.setAttribute("aria-expanded","true");n.show()}});l.on(A.CLICK,p.HIDDEN_TOGGLE,function(t){t.preventDefault();t.stopPropagation();var e=new XMLHttpRequest,o=t.target;if("DIV"!==o.tagName){o=o.closest(".hiddentoggle")}if(o.classList.contains("hidden")){return}e.onreadystatechange=function(){if(4==this.readyState&&200==this.status){o.classList.add("hidden");var e=o.closest(".tile-hidden");e.classList.remove("tile-hidden");e.querySelector(".availabilityinfo").classList.add("hidden")}};e.open("GET",o.getAttribute("href"));e.send()});l.on(A.CLICK,p.DROPDOWN_MENU,function(t){t.stopPropagation()});l.on(A.CLICK,p.DRAGDROP,function(t){t.stopPropagation()});t("html").on(A.TOUCHMOVE,p.MULTI_SECTION_TILE_AREA,V);l.on(A.MOUSEDOWN+" "+A.TOUCHDOWN,p.DRAGDROP,function(o){if(o.button&&o.type!==A.TOUCHDOWN){return}var s=o.target;if("DIV"!==s.tagName){s=o.target.closest(p.DRAGDROP)}s.setAttribute("aria-grabbed","true");var a=t("#"+s.getAttribute("aria-controls"));a.addClass("tile-moving");a.css("pointer-events","none");a.css("transition","none");var r=y(o),c=r.x,d=r.y,E=0,I=0,T=!0,C=function(){if(T){a.css("transform","translate(".concat(E,"px, ").concat(I,"px)"));window.requestAnimationFrame(C)}},g=function(t){var e=y(t);E=e.x-c;I=e.y-d};window.requestAnimationFrame(C);t("html").on(A.MOUSEMOVE+" "+A.TOUCHMOVE,g);t("html").on(A.MOUSEUP+" "+A.TOUCHUP,function(o){T=!1;if(o.button&&!o.type===A.TOUCHUP){return}t("html").off(A.MOUSEMOVE+" "+A.TOUCHMOVE,g);a.css("pointer-events","");a.css("transform","");a.css("transition","");s.setAttribute("aria-grabbed","false");t("html").off(A.MOUSEUP+" "+A.TOUCHUP,this);l.off(A.MOUSEOVER+" "+A.TOUCHOVER,p.MULTI_SECTION_TILE_AREA);var e=t(p.MULTI_SECTION_TILE_AREA).children().filter(".tile.tile-clickable").index(a)+1,r=a.attr("data-section");if(parseInt(r)===e){return}var c=new XMLHttpRequest;O.fadeIn();c.onreadystatechange=function(){if(4==this.readyState&&200==this.status){window.location.reload(!1)}else if(4==this.readyState){O.fadeOut();n.get_strings({key:"tilemovefailed",component:"theme_wwu2019"},{key:"tilemovefailedtitle",component:"theme_wwu2019"},{key:"Ok"}).done(function(e){i.alert(e[0],e[1],e[2])})}};var d=M.cfg.wwwroot+"/course/rest.php",E="?sesskey="+M.cfg.sesskey+"&courseId="+_+"&class=section&field=move&id="+a.attr("data-section")+"&value="+e;c.open("GET",d+E);c.send();for(var I=t(p.MULTI_SECTION_TILE_AREA).children().filter(".tile.tile-clickable"),C=[],u=-1,f=null,m=0;m<I.length;m++){var h=I[m],L=h.getAttribute("data-section");if(t(h).position().top>u){u=t(h).position().top;if(null!==f){for(var D=0,S;D<C.length;D++){S=C[D];t(f).after(t("#section-"+S))}}C=[]}f=h;C.push(L);h.setAttribute("data-section",m+1);h.setAttribute("id","tile-"+(m+1))}for(var N=t(p.MULTI_SECTION_TILE_AREA).children().filter(".section"),b=1;b<I.length;b++){N[b].setAttribute("id","section-"+b);N[b].setAttribute("data-section",b)}o.preventDefault();o.stopPropagation()});l.on(A.MOUSEOVER+" "+A.TOUCHOVER,p.MULTI_SECTION_TILE_AREA,function(o){var e=o.target;if(!e.classList.contains("tile-clickable")){e=t(o.target).closest(".tile.tile-clickable")}if(null!==e&&e.length){if(t(e).index()===a.index()){}else{var s=e.find(p.DRAGDROP),i=s[0].getBoundingClientRect();c=i.left+8;d=i.top+4;if(t(e).index()>a.index()){e.after(a)}else{e.before(a)}}}});o.preventDefault();o.stopPropagation()});l.on(A.CLICK,p.TILE_CLICKABLE,function(o){if(!c){return}o.preventDefault();t(window).off(A.SCROLL);t(p.TILE_LOADING_ICON).fadeOut(300,function(){t(p.TILE_LOADING_ICON).html()});var e=t(o.currentTarget).closest(p.TILE),i=parseInt(e.attr("data-section"));if(e.hasClass(D.SELECTED)){R(i);s.setLastVisitedSection(0)}else{X(_,e,i,U)}var n=t(p.SECTION_ID+(i+1));if(!C&&!j&&n.length&&0<i){setTimeout(function(){var e=s.getStoredContentAge(_,i+1);if(e){v(n,s.getCourseContent(_,i+1))}if(!e||e>U){G(_,i+1).done(function(e){v(n,t(e.html).html());if(s.storageEnabledSession()){s.storeCourseContent(_,i+1,t(e.html).html())}})}},2e3)}});t(window).on("resize",function(){if(m||T===t(window).outerWidth()){return}m=!0;setTimeout(function(){var e=!0,o=t(".moveablesection:visible");if(0!==o.length){var s=o.find(".mediaplugin iframe");if(0!==s.length){s.each(function(s,i){i=t(i);if(i.outerWidth()>o.outerWidth()){e=!1}})}}if(e){T=t(window).outerWidth();w(!0,F)}m=!1},600)});H();var h=parseInt(O.css(S.Z_INDEX)),P=t(p.HEADER_BAR.find(function(e){return 0<t(e).length}));if(P!==void 0&&0!==P.length){if("navwrap"!==P.attr("id")){if(P.outerHeight()!==void 0){g=P.outerHeight();var x=document.getElementById("logo-header").getBoundingClientRect(),Y=x.y+x.height,K=Math.max(0,Y-window.scrollY);I=t("<div></div>").addClass(D.HEADER_OVERLAY).attr("id",D.HEADER_OVERLAY).css(S.DISPLAY,"none");I.insertAfter(p.HEADER_BAR).css(S.Z_INDEX,h+2).css(S.HEIGHT,g+K).click(function(t){R(0);W(t)});window.addEventListener(A.SCROLL,function(){K=Math.max(0,Y-window.scrollY);I.css(S.HEIGHT,g+K)},!0)}else{require(["core/log"],function(e){e.debug("Failed to get navbar.  Ensure theme's navbar selector is included in global HEADER_BAR")})}}}l.on(A.CLICK,p.CLOSE_SEC_BTN,function(o){R(t(o.currentTarget).attr("data-section"))});l.on(A.CLICK,p.LAUNCH_STANDARD,function(o){var e=t(o.currentTarget);if(e.attr("href")!==void 0){window.location=e.attr("href")}else if(e.find("a").attr("href")!==void 0){window.location=e.find("a").attr("href")}});Z()}l.on(A.CLICK,p.HIDE_SEC0_BTN,function(o){var e=t(p.SECTION_ZERO_CONTENT);if("none"===e.css(S.DISPLAY)){e.slideDown(250);t(o.currentTarget).addClass(D.OPEN).removeClass(D.CLOSED);s.setSecZeroCollapseStatus("collapsed")}else{e.slideUp(250);t(o.currentTarget).addClass(D.CLOSED).removeClass(D.OPEN);s.setSecZeroCollapseStatus("expanded")}});if(B){require(["format_tiles/filter_buttons"],function(e){e.init(_,s.storageEnabledLocal)});if(c){l.on(A.CLICK,p.FILTER_BUTTON,function(){R(0);w(!0,!1)})}}t(".tiles_coursenav").removeClass("hidden");e.render("format_tiles/loading",{}).done(function(e){d=e});var z=[{key:"sectionerrortitle",component:"format_tiles"},{key:"sectionerrorstring",component:"format_tiles"},{key:"refresh"},{key:"cancel"},{key:"noconnectionerror",component:"format_tiles"},{key:"show"},{key:"hide"},{key:"other",component:"format_tiles"},{key:"blockedpopuptitle",component:"format_tiles"}];n.get_strings(z).done(function(e){e.forEach(function(e,t){E[z[t].key]=e})});if(C){l.on(A.CLICK,p.ACTIVITY+".video a",function(s){var e=t(s.currentTarget),i=e.closest(p.ACTIVITY).attr("data-url-secondary");if(i!==void 0){s.preventDefault();s.stopPropagation();var n=e.closest(p.ACTIVITY);o.call([{methodname:"format_tiles_log_mod_view",args:{courseid:_,cmid:n.attr("data-cmid")}}])[0].done(function(){require(["format_tiles/completion"],function(e){e.markAsAutoCompleteInUI(_,n)})});window.location=i}})}else{t(p.TILE).on(A.KEYDOWN,function(o){if(o.keyCode===N.RETURN){t(o.currentTarget).click()}});t("ul.tiles .tile").first().focus()}t(document).on("filter-content-updated",function(e,o){if(0<o.length){var s=t(o[0]);if(s.hasClass("moodle-dialogue")&&s.css("z-index")<f){s.css("z-index",f+1)}}})})}}});
//# sourceMappingURL=edit_course.min.js.map
